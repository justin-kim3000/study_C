#define _CRT_SECURE_NO_WARNINGS
#include "struct.h"
#include "function.h"
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <windows.h>
#include <conio.h>

// 관리자 모드 - 최신 영화 제목, 장르 입력
void admin_NOW_MV_input()
{
	NOW MV = { 0, };
	system("cls");
	printf("======================================================================================================\n");
	printf("                ___   _  _______    _______  ___  __    _  _______  __   __  _______\n");
	printf("               |   | | ||  _    |  |       ||   ||  |  | ||       ||  |_|  ||   _   |\n");
	printf("               |   |_| || |_|   |  |       ||   ||   |_| ||    ___||       ||  |_|  |\n");
	printf("               |      _||       |  |       ||   ||       ||   |___ |       ||       |\n");
	printf("               |     |_ |  _   |   |      _||   ||  _    ||    ___||       ||       |\n");
	printf("               |    _  || |_|   |  |     |_ |   || | |   ||   |___ | ||_|| ||   _   |\n");
	printf("               |___| |_||_______|  |_______||___||_|  |__||_______||_|   |_||__| |__|\n");
	printf("\n");
	printf("======================================================================================================\n");
	printf("\n\n");
	printf("                                KB 시네마 관리자용 메뉴 - 상영작 추가\n");
	printf("\n\n");
	printf("                                 ┌───────────────────────────────┐\n");
	printf("                                 │ 제목:                         │\n");
	printf("                                 └───────────────────────────────┘\n");
	printf("                                 ┌───────────────────────────────┐\n");
	printf("                                 │ 장르:                         │\n");
	printf("                                 └───────────────────────────────┘\n");
	gotoxy(41, 16); scanf(" %[^\n]s", &MV.name);
	gotoxy(41, 19); scanf(" %s", &MV.genre);
	
	FILE* fp = NULL;
	fp = fopen("d:/NOW_MV_LIST.txt", "ab");
	if (fp == NULL) {
		printf("파일을 생성할수가 없습니다.\n");
		return;
	}
	fwrite(&MV, sizeof(NOW), 1, fp);
	printf("\n\n\n\n\n");
	printf("                                       추가가 완료되었습니다.\n");
	printf("                                    아무 키나 누르면 돌아갑니다.\n");
	_getch();
	fclose(fp);
	return;
}

// 관리자 모드 - 추천 영화 제목, 장르 입력
void admin_REC_MV_input()
{
	system("cls");

	RECOM MV1 = { 0, };
	system("cls");
	printf("======================================================================================================\n");
	printf("                ___   _  _______    _______  ___  __    _  _______  __   __  _______\n");
	printf("               |   | | ||  _    |  |       ||   ||  |  | ||       ||  |_|  ||   _   |\n");
	printf("               |   |_| || |_|   |  |       ||   ||   |_| ||    ___||       ||  |_|  |\n");
	printf("               |      _||       |  |       ||   ||       ||   |___ |       ||       |\n");
	printf("               |     |_ |  _   |   |      _||   ||  _    ||    ___||       ||       |\n");
	printf("               |    _  || |_|   |  |     |_ |   || | |   ||   |___ | ||_|| ||   _   |\n");
	printf("               |___| |_||_______|  |_______||___||_|  |__||_______||_|   |_||__| |__|\n");
	printf("\n");
	printf("======================================================================================================\n");
	printf("\n\n");
	printf("                          KB 시네마 관리자용 메뉴 - 선호 장르 분석용 DB 추가\n");
	printf("\n\n");
	printf("                                 ┌───────────────────────────────┐\n");
	printf("                                 │ 제목:                         │\n");
	printf("                                 └───────────────────────────────┘\n");
	printf("                                 ┌───────────────────────────────┐\n");
	printf("                                 │ 장르:                         │\n");
	printf("                                 └───────────────────────────────┘\n");
	printf("                                 ┌───────────────────────────────┐\n");
	printf("                                 │ 감독:                         │\n");
	printf("                                 └───────────────────────────────┘\n");
	printf("                                 ┌───────────────────────────────┐\n");
	printf("                                 │ 주연:                         │\n");
	printf("                                 └───────────────────────────────┘\n");
	gotoxy(41, 16); scanf(" %[^\n]s", &MV1.name);
	gotoxy(41, 19); scanf(" %s", &MV1.genre);
	gotoxy(41, 22); scanf(" %[^\n]s", &MV1.director);
	gotoxy(41, 25); scanf(" %[^\n]s", &MV1.actor);

	FILE* fp = NULL;
	fp = fopen("d:/REC_MV_LIST.txt", "ab");
	if (fp == NULL) {
		printf("                          일시적으로 파일을 열지 못했습니다. 다시 시도해주세요.\n");
		printf("                                    아무 키나 누르면 돌아갑니다.\n");
		_getch();
		fclose(fp);
		return;
	}
	fwrite(&MV1, sizeof(RECOM), 1, fp);
	printf("\n\n\n\n\n");
	printf("                                       추가가 완료되었습니다.\n");
	printf("                                    아무 키나 누르면 돌아갑니다.\n");
	_getch();
	fclose(fp);
	return;
}


void NOW_MV_del()
{
	FILE* fpr = fopen("d:/NOW_MV_LIST.txt", "rb");
	if (fpr == NULL) {
		system("cls");
		printf("======================================================================================================\n");
		printf("                ___   _  _______    _______  ___  __    _  _______  __   __  _______\n");
		printf("               |   | | ||  _    |  |       ||   ||  |  | ||       ||  |_|  ||   _   |\n");
		printf("               |   |_| || |_|   |  |       ||   ||   |_| ||    ___||       ||  |_|  |\n");
		printf("               |      _||       |  |       ||   ||       ||   |___ |       ||       |\n");
		printf("               |     |_ |  _   |   |      _||   ||  _    ||    ___||       ||       |\n");
		printf("               |    _  || |_|   |  |     |_ |   || | |   ||   |___ | ||_|| ||   _   |\n");
		printf("               |___| |_||_______|  |_______||___||_|  |__||_______||_|   |_||__| |__|\n");
		printf("\n");
		printf("======================================================================================================\n");
		printf("\n\n");
		printf("                             KB 시네마 관리자용 메뉴 - 현재 상영작 삭제\n");
		printf("\n\n");
		printf("                                     현재 등록된 DB가 없습니다.\n");
		printf("                                    아무 키나 누르면 돌아갑니다.\n");
		_getch();
		fpr = fopen("D:/NOW_MV_LIST.txt", "wb");
		fclose(fpr);
		return;
	}

	system("cls");
	printf("======================================================================================================\n");
	printf("                ___   _  _______    _______  ___  __    _  _______  __   __  _______\n");
	printf("               |   | | ||  _    |  |       ||   ||  |  | ||       ||  |_|  ||   _   |\n");
	printf("               |   |_| || |_|   |  |       ||   ||   |_| ||    ___||       ||  |_|  |\n");
	printf("               |      _||       |  |       ||   ||       ||   |___ |       ||       |\n");
	printf("               |     |_ |  _   |   |      _||   ||  _    ||    ___||       ||       |\n");
	printf("               |    _  || |_|   |  |     |_ |   || | |   ||   |___ | ||_|| ||   _   |\n");
	printf("               |___| |_||_______|  |_______||___||_|  |__||_______||_|   |_||__| |__|\n");
	printf("\n");
	printf("======================================================================================================\n");
	printf("\n\n");
	printf("                             KB 시네마 관리자용 메뉴 - 현재 상영작 삭제\n");
	char movie[40] = { 0, };
	char seat[5] = { 0, };
	printf("\n\n");
	printf("                              ┌──────────────────────────────────┐\n");
	printf("                              │ 삭제할 영화:                     │\n");
	printf("                              └──────────────────────────────────┘\n");
	gotoxy(45, 16); scanf(" %[^\n]s", &movie);

	NOW MV_R = { 0, };
	static NOW dest[256] = { 0, };
	int idx = 0;
	int found = 0;

	while (fread(&MV_R, sizeof(NOW), 1, fpr) == 1) {
		if (strcmp(movie, MV_R.name) != 0)
		{
			memcpy(&dest[idx++], &MV_R, sizeof(NOW));
		}
		else {
			found = 1;
		}
	}
	fclose(fpr);
	if (found == 0)
	{
		printf("\n\n\n\n");
		printf("                             입력하신 영화가 존재하지 않습니다.\n"); 
		printf("                                아무 키나 누르면 돌아갑니다.\n");
		_getch();
		return;
	}
	fpr = fopen("d:/NOW_MV_LIST.txt", "wb");
	if (fpr == NULL) {
		printf("파일을 생성할수가 없습니다.\n");
		return;
	}

	for (int i = 0; i < 256; i++) {
		if (strcmp(dest[i].name, "") != 0) {
			fwrite(&dest[i], sizeof(NOW), 1, fpr);
		}
		else break;
	}
	fclose(fpr);
	memset(dest, 0, sizeof(NOW) * 256);
	printf("\n\n\n\n");
	printf("                                       삭제가 완료되었습니다.\n");
	printf("                                    아무 키나 누르면 돌아갑니다.\n");
	_getch();
	return;
}

// 추천 영화 정보 삭제
void REC_MV_del(){
	FILE* fpr = fopen("d:/REC_MV_LIST.txt", "rb");
	if (fpr == NULL) {
		system("cls");
		printf("======================================================================================================\n");
		printf("                ___   _  _______    _______  ___  __    _  _______  __   __  _______\n");
		printf("               |   | | ||  _    |  |       ||   ||  |  | ||       ||  |_|  ||   _   |\n");
		printf("               |   |_| || |_|   |  |       ||   ||   |_| ||    ___||       ||  |_|  |\n");
		printf("               |      _||       |  |       ||   ||       ||   |___ |       ||       |\n");
		printf("               |     |_ |  _   |   |      _||   ||  _    ||    ___||       ||       |\n");
		printf("               |    _  || |_|   |  |     |_ |   || | |   ||   |___ | ||_|| ||   _   |\n");
		printf("               |___| |_||_______|  |_______||___||_|  |__||_______||_|   |_||__| |__|\n");
		printf("\n");
		printf("======================================================================================================\n");
		printf("\n\n");
		printf("                         KB 시네마 관리자용 메뉴 - 선호 장르 분석용 DB 삭제\n");
		printf("\n\n");
		printf("                                    현재 등록된 DB가 없습니다.\n");
		printf("                                   아무 키나 누르면 돌아갑니다.\n");
		_getch();
		fpr = fopen("D:/REC_MV_LIST.txt", "wb");
		fclose(fpr);
		return;
	}

	system("cls");
	printf("======================================================================================================\n");
	printf("                ___   _  _______    _______  ___  __    _  _______  __   __  _______\n");
	printf("               |   | | ||  _    |  |       ||   ||  |  | ||       ||  |_|  ||   _   |\n");
	printf("               |   |_| || |_|   |  |       ||   ||   |_| ||    ___||       ||  |_|  |\n");
	printf("               |      _||       |  |       ||   ||       ||   |___ |       ||       |\n");
	printf("               |     |_ |  _   |   |      _||   ||  _    ||    ___||       ||       |\n");
	printf("               |    _  || |_|   |  |     |_ |   || | |   ||   |___ | ||_|| ||   _   |\n");
	printf("               |___| |_||_______|  |_______||___||_|  |__||_______||_|   |_||__| |__|\n");
	printf("\n");
	printf("======================================================================================================\n");
	printf("\n\n");
	printf("                         KB 시네마 관리자용 메뉴 - 선호 장르 분석용 DB 삭제\n");
	char movie[40] = { 0, };
	char seat[5] = { 0, };
	printf("\n\n");
	printf("                              ┌──────────────────────────────────┐\n");
	printf("                              │ 삭제할 영화:                     │\n");
	printf("                              └──────────────────────────────────┘\n");
	gotoxy(45, 16); scanf(" %[^\n]s", &movie);

	RECOM	MV_E = { 0, };
	static RECOM dest[256] = { 0, };
	int idx = 0;
	int found = 0;

	while (fread(&MV_E, sizeof(RECOM), 1, fpr) == 1) {
		if (strcmp(movie, MV_E.name) != 0)
		{
			memcpy(&dest[idx++], &MV_E, sizeof(RECOM));
		}
		else {
			found = 1;
		}
	}
	fclose(fpr);


	if (found == 0)
	{
		printf("\n\n\n\n");
		printf("                                    입력하신 영화가 존재하지 않습니다.\n");
		printf("                                       아무 키나 누르면 돌아갑니다.\n");
		_getch();
		return;
	}
	fpr = fopen("d:/REC_MV_LIST.txt", "wb");
	if (fpr == NULL) {
		printf("파일을 생성할수가 없습니다.\n");
		return;
	}

	for (int i = 0; i < 256; i++) {
		if (strcmp(dest[i].name, "") != 0) {
			fwrite(&dest[i], sizeof(RECOM), 1, fpr);
		}
		else break;
	}
	fclose(fpr);
	memset(dest, 0, sizeof(RECOM) * 256);
	printf("\n\n\n\n");
	printf("                                          삭제가 완료되었습니다.\n");
	printf("                                       아무 키나 누르면 돌아갑니다.\n");
	_getch();
	return;

}

void NOW_MV_read()
{
	NOW now = { 0, };
	FILE* fp = fopen("D:/NOW_MV_LIST.txt", "rb");
	if (fp == NULL) {
		system("cls");
		printf("======================================================================================================\n");
		printf("                ___   _  _______    _______  ___  __    _  _______  __   __  _______\n");
		printf("               |   | | ||  _    |  |       ||   ||  |  | ||       ||  |_|  ||   _   |\n");
		printf("               |   |_| || |_|   |  |       ||   ||   |_| ||    ___||       ||  |_|  |\n");
		printf("               |      _||       |  |       ||   ||       ||   |___ |       ||       |\n");
		printf("               |     |_ |  _   |   |      _||   ||  _    ||    ___||       ||       |\n");
		printf("               |    _  || |_|   |  |     |_ |   || | |   ||   |___ | ||_|| ||   _   |\n");
		printf("               |___| |_||_______|  |_______||___||_|  |__||_______||_|   |_||__| |__|\n");
		printf("\n");
		printf("======================================================================================================\n");
		printf("\n\n");
		printf("                              KB 시네마 관리자용 메뉴 - 현재 상영작 목록\n");
		printf("\n\n");
		printf("                                   현재 등록된 상영작이 없습니다.\n");
		printf("                                    아무 키나 누르면 돌아갑니다.\n");
		_getch();
		fp = fopen("D:/NOW_MV_LIST.txt", "wb");
		fclose(fp);
		return;
	}
	int x = 24, y = 18;
	int i = 0;
	int count = 0;
	system("cls");
	printf("======================================================================================================\n");
	printf("                ___   _  _______    _______  ___  __    _  _______  __   __  _______\n");
	printf("               |   | | ||  _    |  |       ||   ||  |  | ||       ||  |_|  ||   _   |\n");
	printf("               |   |_| || |_|   |  |       ||   ||   |_| ||    ___||       ||  |_|  |\n");
	printf("               |      _||       |  |       ||   ||       ||   |___ |       ||       |\n");
	printf("               |     |_ |  _   |   |      _||   ||  _    ||    ___||       ||       |\n");
	printf("               |    _  || |_|   |  |     |_ |   || | |   ||   |___ | ||_|| ||   _   |\n");
	printf("               |___| |_||_______|  |_______||___||_|  |__||_______||_|   |_||__| |__|\n");
	printf("\n");
	printf("======================================================================================================\n");
	printf("\n\n");
	printf("                              KB 시네마 관리자용 메뉴 - 현재 상영작 목록\n");
	printf("\n\n");
	printf("                  ┌──────────┬───────────────────────────────┬────────────────────┐\n");
	printf("                  │   순위   │              제목             │         장르       │\n");
	printf("                  ├──────────┼───────────────────────────────┼────────────────────│\n");
	printf("                  │          │                               │                    │\n");
	printf("                  ├──────────┼───────────────────────────────┼────────────────────│\n");
	printf("                  │          │                               │                    │\n");
	printf("                  ├──────────┼───────────────────────────────┼────────────────────│\n");
	printf("                  │          │                               │                    │\n");
	printf("                  ├──────────┼───────────────────────────────┼────────────────────│\n");
	printf("                  │          │                               │                    │\n");
	printf("                  ├──────────┼───────────────────────────────┼────────────────────│\n");
	printf("                  │          │                               │                    │\n");
	printf("                  ├──────────┼───────────────────────────────┼────────────────────│\n");
	printf("                  │          │                               │                    │\n");
	printf("                  ├──────────┼───────────────────────────────┼────────────────────│\n");
	printf("                  │          │                               │                    │\n");
	printf("                  ├──────────┼───────────────────────────────┼────────────────────│\n");
	printf("                  │          │                               │                    │\n");
	printf("                  ├──────────┼───────────────────────────────┼────────────────────│\n");
	printf("                  │          │                               │                    │\n");
	printf("                  ├──────────┼───────────────────────────────┼────────────────────│\n");
	printf("                  │          │                               │                    │\n");
	printf("                  └──────────┴───────────────────────────────┴────────────────────┘\n");
	while (fread(&now, sizeof(now), 1, fp) == 1) {
		gotoxy(x, y + i); printf("%d", ++count);
		gotoxy(x + 7, y + i); printf("%s", now.name);
		gotoxy(x + 39, y + i); printf("%s", now.genre);
		i += 2;
	}
	if (count == 0) {
		system("cls");
		printf("======================================================================================================\n");
		printf("                ___   _  _______    _______  ___  __    _  _______  __   __  _______\n");
		printf("               |   | | ||  _    |  |       ||   ||  |  | ||       ||  |_|  ||   _   |\n");
		printf("               |   |_| || |_|   |  |       ||   ||   |_| ||    ___||       ||  |_|  |\n");
		printf("               |      _||       |  |       ||   ||       ||   |___ |       ||       |\n");
		printf("               |     |_ |  _   |   |      _||   ||  _    ||    ___||       ||       |\n");
		printf("               |    _  || |_|   |  |     |_ |   || | |   ||   |___ | ||_|| ||   _   |\n");
		printf("               |___| |_||_______|  |_______||___||_|  |__||_______||_|   |_||__| |__|\n");
		printf("\n");
		printf("======================================================================================================\n");
		printf("\n\n");
		printf("                              KB 시네마 관리자용 메뉴 - 현재 상영작 목록\n");
		printf("\n\n");
		printf("                                   현재 등록된 상영작이 없습니다.\n");
		printf("                                    아무 키나 누르면 돌아갑니다.\n");
		_getch();
		fclose(fp);
		return;
	}
	gotoxy(0, 40);
	printf("                                 현재 상영중인 영화는 위와 같습니다.\n");
	printf("                                    아무 키나 누르면 돌아갑니다.\n");
	_getch();
	fclose(fp);
}

// 추천작 읽기 함수
void REC_MV_read()
{
	RECOM rec = { 0, };
	FILE* fp = fopen("D:/REC_MV_LIST.txt", "rb");
	if (fp == NULL) {
		system("cls");
		printf("======================================================================================================\n");
		printf("                ___   _  _______    _______  ___  __    _  _______  __   __  _______\n");
		printf("               |   | | ||  _    |  |       ||   ||  |  | ||       ||  |_|  ||   _   |\n");
		printf("               |   |_| || |_|   |  |       ||   ||   |_| ||    ___||       ||  |_|  |\n");
		printf("               |      _||       |  |       ||   ||       ||   |___ |       ||       |\n");
		printf("               |     |_ |  _   |   |      _||   ||  _    ||    ___||       ||       |\n");
		printf("               |    _  || |_|   |  |     |_ |   || | |   ||   |___ | ||_|| ||   _   |\n");
		printf("               |___| |_||_______|  |_______||___||_|  |__||_______||_|   |_||__| |__|\n");
		printf("\n");
		printf("======================================================================================================\n");
		printf("\n\n");
		printf("                           KB 시네마 관리자용 메뉴 - 선호 장르 분석용 DB 목록\n");
		printf("\n\n");
		printf("                                      현재 등록된 DB가 없습니다.\n");
		printf("                                     아무 키나 누르면 돌아갑니다.\n");
		_getch();
		fp = fopen("D:/REC_MV_LIST.txt", "wb");
		fclose(fp);
		return;
	}
	int x = 13, y = 18;
	int i = 0;
	int count = 0;
	system("cls");
	printf("======================================================================================================\n");
	printf("                ___   _  _______    _______  ___  __    _  _______  __   __  _______\n");
	printf("               |   | | ||  _    |  |       ||   ||  |  | ||       ||  |_|  ||   _   |\n");
	printf("               |   |_| || |_|   |  |       ||   ||   |_| ||    ___||       ||  |_|  |\n");
	printf("               |      _||       |  |       ||   ||       ||   |___ |       ||       |\n");
	printf("               |     |_ |  _   |   |      _||   ||  _    ||    ___||       ||       |\n");
	printf("               |    _  || |_|   |  |     |_ |   || | |   ||   |___ | ||_|| ||   _   |\n");
	printf("               |___| |_||_______|  |_______||___||_|  |__||_______||_|   |_||__| |__|\n");
	printf("\n");
	printf("======================================================================================================\n");
	printf("\n\n");
	printf("                           KB 시네마 관리자용 메뉴 - 선호 장르 분석용 DB 목록\n");
	printf("\n\n");
	printf("       ┌──────────┬───────────────────────────────────────────────────────────────┬───────────┐\n");
	printf("       │   번호   │                           제목                                │    장르   │\n");
	printf("       ├──────────┼───────────────────────────────────────────────────────────────┼───────────┤\n");
	printf("       │          │                                                               │           │\n");
	printf("       ├──────────┼───────────────────────────────────────────────────────────────┼───────────┤\n");
	printf("       │          │                                                               │           │\n");
	printf("       ├──────────┼───────────────────────────────────────────────────────────────┼───────────┤\n");
	printf("       │          │                                                               │           │\n");
	printf("       ├──────────┼───────────────────────────────────────────────────────────────┼───────────┤\n");
	printf("       │          │                                                               │           │\n");
	printf("       ├──────────┼───────────────────────────────────────────────────────────────┼───────────┤\n");
	printf("       │          │                                                               │           │\n");
	printf("       ├──────────┼───────────────────────────────────────────────────────────────┼───────────┤\n");
	printf("       │          │                                                               │           │\n");
	printf("       ├──────────┼───────────────────────────────────────────────────────────────┼───────────┤\n");
	printf("       │          │                                                               │           │\n");
	printf("       ├──────────┼───────────────────────────────────────────────────────────────┼───────────┤\n");
	printf("       │          │                                                               │           │\n");
	printf("       ├──────────┼───────────────────────────────────────────────────────────────┼───────────┤\n");
	printf("       │          │                                                               │           │\n");
	printf("       ├──────────┼───────────────────────────────────────────────────────────────┼───────────┤\n");
	printf("       │          │                                                               │           │\n");
	printf("       ├──────────┼───────────────────────────────────────────────────────────────┼───────────┤\n");
	printf("       │          │                                                               │           │\n");
	printf("       ├──────────┼───────────────────────────────────────────────────────────────┼───────────┤\n");
	printf("       │          │                                                               │           │\n");
	printf("       └──────────┴───────────────────────────────────────────────────────────────┴───────────┘\n");
	while (fread(&rec, sizeof(rec), 1, fp) == 1) {
		gotoxy(x, y + i); printf("%d", ++count);
		gotoxy(x + 7, y + i); printf("%s (감독: %s, 주연: %s)", rec.name, rec.director, rec.actor);
		gotoxy(x + 71, y + i); printf("%s", rec.genre);
		i += 2;
	}
	if (count == 0) {
		system("cls");
		printf("======================================================================================================\n");
		printf("                ___   _  _______    _______  ___  __    _  _______  __   __  _______\n");
		printf("               |   | | ||  _    |  |       ||   ||  |  | ||       ||  |_|  ||   _   |\n");
		printf("               |   |_| || |_|   |  |       ||   ||   |_| ||    ___||       ||  |_|  |\n");
		printf("               |      _||       |  |       ||   ||       ||   |___ |       ||       |\n");
		printf("               |     |_ |  _   |   |      _||   ||  _    ||    ___||       ||       |\n");
		printf("               |    _  || |_|   |  |     |_ |   || | |   ||   |___ | ||_|| ||   _   |\n");
		printf("               |___| |_||_______|  |_______||___||_|  |__||_______||_|   |_||__| |__|\n");
		printf("\n");
		printf("======================================================================================================\n");
		printf("\n\n");
		printf("                           KB 시네마 관리자용 메뉴 - 선호 장르 분석용 DB 목록\n");
		printf("\n\n");
		printf("                                      현재 등록된 DB가 없습니다.\n");
		printf("                                     아무 키나 누르면 돌아갑니다.\n");
		_getch();
		fclose(fp);
		return;
	}
	gotoxy(0, 44);
	printf("                                  현재 등록된 DB는 위와 같습니다.\n");
	printf("                                    아무 키나 누르면 돌아갑니다.\n");
	_getch();
	fclose(fp);
}

void book_init() {
	system("cls");
	printf("======================================================================================================\n");
	printf("                ___   _  _______    _______  ___  __    _  _______  __   __  _______\n");
	printf("               |   | | ||  _    |  |       ||   ||  |  | ||       ||  |_|  ||   _   |\n");
	printf("               |   |_| || |_|   |  |       ||   ||   |_| ||    ___||       ||  |_|  |\n");
	printf("               |      _||       |  |       ||   ||       ||   |___ |       ||       |\n");
	printf("               |     |_ |  _   |   |      _||   ||  _    ||    ___||       ||       |\n");
	printf("               |    _  || |_|   |  |     |_ |   || | |   ||   |___ | ||_|| ||   _   |\n");
	printf("               |___| |_||_______|  |_______||___||_|  |__||_______||_|   |_||__| |__|\n");
	printf("\n");
	printf("======================================================================================================\n");
	printf("\n\n");
	printf("                               KB 시네마 관리자용 메뉴 - 예매 내역 초기화\n");
	printf("\n\n");
	printf("                                  저장된 모든 예매 내역을 초기화합니다.\n");
	printf("                                        정말 진행하시겠습니까?\n");
	printf("                                      (경고! 돌이킬 수 없습니다!)\n");
	printf("\n\n");
	printf("                             ┌─────────────┐             ┌─────────────┐\n");
	printf("                             │ 1. 삭제     │             │ 2. 취소     │\n");
	printf("                             └─────────────┘             └─────────────┘\n");
	printf("\n\n");
	printf("                                                                           기능 선택: ");
	int select = 0;
	scanf("%d", &select);
	if (select == 1) {
		FILE* fp = fopen("D:/book.txt", "wb");
		fclose(fp);
		fp = fopen("D:/book_mem.txt", "wb");
		fclose(fp);
		system("cls");
		printf("======================================================================================================\n");
		printf("                ___   _  _______    _______  ___  __    _  _______  __   __  _______\n");
		printf("               |   | | ||  _    |  |       ||   ||  |  | ||       ||  |_|  ||   _   |\n");
		printf("               |   |_| || |_|   |  |       ||   ||   |_| ||    ___||       ||  |_|  |\n");
		printf("               |      _||       |  |       ||   ||       ||   |___ |       ||       |\n");
		printf("               |     |_ |  _   |   |      _||   ||  _    ||    ___||       ||       |\n");
		printf("               |    _  || |_|   |  |     |_ |   || | |   ||   |___ | ||_|| ||   _   |\n");
		printf("               |___| |_||_______|  |_______||___||_|  |__||_______||_|   |_||__| |__|\n");
		printf("\n");
		printf("======================================================================================================\n");
		printf("\n\n");
		printf("                               KB 시네마 관리자용 메뉴 - 예매 내역 초기화\n");
		printf("\n\n");
		printf("                                   모든 예매 내역이 초기화되었습니다.\n");
		printf("                                      아무 키나 누르면 돌아갑니다.\n");
		_getch();
		return;
	}
	else {
		rewind(stdin);
		return;
	}
	
	
}